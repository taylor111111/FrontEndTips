# 🍃 懒加载的四条“硬标准”（够用了）

## 1. 按路由切分是默认方案

- 「一个页面 = 一个 chunk」
- 这是基础盘，除非有特殊需求，否则不用纠结。

---

## 2. 谁该懒加载

- 图表、编辑器、富文本、可视化、大型第三方 SDK……
- 判断标准可以简单粗暴：
  - **首屏没它也能跑，但它一上来就拖慢 bundle，那就懒加载。**

---

## 3. chunk 过大就继续拆

- 有了懒加载之后，还要看看：
  - 某个路由 chunk 是不是已经 **400–600KB+**
- 如果太大：
  - 把其中“低频、重组件”再切出来
- 也可以在 bundle analyzer 里看：
  - “这个 chunk 里谁是大户”。

---

## 4. 懒加载一定要有“状态策略”

- 绝不能只有 `import()`，没有 UI 状态。
- 至少需要：
  - `loading`：骨架屏 / 占位
  - `error`：加载失败提示 + 重试
- React 语境下：
  - `Suspense + fallback`
  - 或自己封装 `AsyncComponent`
