

# ES6 Engineering Core
> ES6 中**真正值得长期掌握的工程核心语法**
>
> 本文不是 ES6 教程，也不是语法大全。  
> 目标只有一个：**筛选出在真实工程中，能显著降低复杂度、出错率和心智负担的 ES6 特性。**

---

## 一、筛选标准（先立边界）

一个 ES6 特性是否“值钱”，只看三点：

1. **是否降低工程风险**
2. **是否提升代码可读性 / 可维护性**
3. **是否在真实项目中高频出现**

不满足以上条件的特性：
- 不需要死记
- 不需要主动使用
- 知道存在即可

---

## 二、声明与作用域（工程地基）

### 1️⃣ `let / const`（⭐⭐⭐⭐⭐）

**工程价值**
- 消灭 `var` 带来的提升、覆盖、循环闭包问题
- 明确“是否可重新绑定”

**工程共识**
- 默认使用 `const`
- 只有在需要重新赋值时才使用 `let`
- 新代码中应避免 `var`

---

### 2️⃣ 块级作用域（Block Scope）

```js
if (cond) {
  const x = 1
}
```

**工程价值**
- 缩小变量生存范围
- 减少意外依赖与污染

> 块级作用域让代码**更容易被局部理解**

---

## 三、解构：显式依赖声明

### 3️⃣ 对象 / 数组解构（⭐⭐⭐⭐⭐）

```js
const { data, error } = result
```

**工程价值**
- 显式声明依赖字段
- 接口变更更容易暴露

> 解构不是语法糖，而是**依赖声明**

---

### 4️⃣ 参数解构（⭐⭐⭐⭐⭐）

```js
function Comp({ value, onChange }) {}
```

**工程价值**
- 明确函数 / 组件的输入边界
- 减少“传了但没用 / 用了但没传”

---

## 四、函数表达与 this 风险控制

### 5️⃣ 箭头函数 `=>`（⭐⭐⭐⭐）

**工程价值**
- 无独立 `this`
- 更适合回调、hooks、函数式组合

**工程建议**
- ✅ 作为纯函数 / 回调使用
- ❌ 避免用于依赖动态 `this` 的场景

---

### 6️⃣ 默认参数（⭐⭐⭐⭐）

```js
function fetchData(page = 1) {}
```

**工程价值**
- 减少防御性代码
- 降低 `undefined` 分支复杂度

---

## 五、模块系统（工程化核心）

### 7️⃣ ES Module：`import / export`（⭐⭐⭐⭐⭐）

```js
export function foo() {}
```

**工程价值**
- 静态依赖分析
- Tree-shaking
- 明确模块边界

> 这是前端工程化的**基石能力**

---

## 六、异步表达：时间线可读性

### 8️⃣ `async / await`（⭐⭐⭐⭐⭐）

**工程价值**
- 将异步时间线显式化
- 显著提升代码可读性

**重要边界**
- `await` ≠ 并发
- 不自动处理取消 / 竞态
- 通常与工程库（如请求管理库）配合使用

---

## 七、不可变数据表达

### 9️⃣ 展开运算符 `...`（⭐⭐⭐⭐）

```js
setState(prev => ({ ...prev, x: 1 }))
```

**工程价值**
- 显式创建新对象
- 配合不可变数据模型，降低副作用风险

---

### 🔟 剩余参数 `...args`（⭐⭐⭐）

**工程价值**
- 明确函数参数边界
- 避免 `arguments` 的隐式行为

---

## 八、集合类型（谨慎使用）

### 1️⃣1️⃣ `Map / Set`（⭐⭐⭐）

**适用场景**
- 需要 O(1) 查找
- 需要去重
- 非字符串 key

**工程提醒**
- 不要为了“高级”而使用
- 数据结构明确时再引入

---

## 九、知道即可，不必精通（工程低优先级）

以下特性：
- `Symbol`
- `Proxy`
- `Reflect`
- `Iterator / Generator`
- `WeakMap / WeakSet`

**工程态度**
> 知道它们存在  
> 知道它们解决什么问题  
> 不主动使用，不记忆 API

---

## 十、统一工程态度（可用于面试）

> 我关注 ES6 中**能降低工程风险的核心语法**，  
> 比如块级作用域、模块系统、解构、async/await。  
> 对于低频或高复杂度特性，我会在需要时查文档确认。

---

## 结语

> **高级工程师的价值不在于知道得更多，  
> 而在于知道什么值得占用大脑缓存。**

ES6 是工具箱，  
工程判断，才是核心能力。
