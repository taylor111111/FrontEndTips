

# React StrictMode（面试安全回答版）

> 这不是一篇讲原理的文章。
> 这是一份**专门用于面试场景的“语言边界控制”答案集**。
>
> 目标只有一个：
> **回答得足够正确，但绝不引导面试官继续发散。**

---

## 一、StrictMode 是什么？（标准安全回答）

**安全回答（推荐直接背）：**

> React 的 StrictMode 是一个仅在开发环境生效的工具，用来帮助发现不安全的副作用和潜在问题。  
> 在 React 18 中，开发环境下它会有意让 render 和 effect 多执行一次，生产环境不会这样。

✅ 到这里就可以停了。

---

## 二、为什么会执行两次？（只答“目的”，不答“机制”）

**安全回答：**

> 这是 React 在开发阶段的一种检测策略，用来帮助开发者尽早发现副作用不安全或不可重复的问题。

🚫 不要继续解释“如何做到的”。

---

## 三、如果面试官继续追问（最多加一句）

**可追加一句（极限）：**

> 工程上只需要保证副作用是可重复、可清理的即可，不需要针对 StrictMode 写特殊逻辑。

然后**主动收口**，不要再展开。

---

## 四、哪些内容不要在面试中主动提？

即使你完全懂，也不要说：

- 为什么一定是两次
- 模拟 unmount / remount 的过程
- cleanup 的具体调用顺序
- Fiber / 并发渲染内部机制
- React 为什么“刻意”这么设计

原因很简单：

> **这些问题答对了不加分，但极容易引发无边界追问。**

---

## 五、如果被问到「那你平时怎么处理？」

**安全回答：**

> 按照 React 的推荐方式写副作用，保证 effect 幂等、清理完整即可。

---

## 六、工程真实态度（不用于面试）

> StrictMode 是一个开发期的保护机制，不是业务逻辑的一部分。  
> 它的存在价值在于暴露问题，而不是让业务代码为它服务。

⚠️ 这段话**不要在面试中主动说**。

---

## 七、一句话总结（面试用）

> StrictMode 是开发期工具，用来发现副作用问题；  
> 它在开发环境下可能让 render / effect 多执行一次，生产环境不会。

**说完就停。**
