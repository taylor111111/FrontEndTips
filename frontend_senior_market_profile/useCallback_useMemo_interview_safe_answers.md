# useCallback / useMemo  
## 面试安全回答速查表（Interview‑Safe Answers）

> 本文不是性能优化教程，  
> 而是一份 **「如何在面试中回答 useCallback / useMemo，不出事故」** 的速查文档。
>
> 目标只有一个：  
> **让面试官觉得你稳、克制、可以放心把项目交给你。**

---

## 一、面试官为什么爱问这题？

### 表面问题
> 你了解 useCallback / useMemo 吗？  
> 你平时会怎么用？

### 实际在筛什么
- 你会不会 **滥用 hooks**
- 你有没有 **性能迷信**
- 你是否理解 **复杂度 > 性能收益** 的情况

👉 这是一个 **风险控制题**，不是炫技题。

---

## 二、30 秒标准答案（直接可背）

> useCallback 和 useMemo 主要是用来**稳定引用**的，  
> 一般只有在函数或对象会作为 props 传给 memo 化组件，  
> 或者作为 hooks 的依赖时，才有必要使用。  
>
> 其他情况下，我会优先保持代码简单，避免过度优化。

✅ 说完就停。

---

## 三、常见追问 & 安全回应

### Q1：是不是所有函数都应该用 useCallback？

**安全回答：**

> 不是。  
> 大多数情况下 render 的成本并不高，  
> 滥用 useCallback 反而会增加依赖维护成本和代码复杂度。

（停）

---

### Q2：不用 useCallback 会有什么问题？

**安全回答：**

> 如果只是普通组件内部使用，一般不会有问题。  
> 只有在需要保持引用稳定的场景下，才可能带来额外 render。

（停）

---

### Q3：那 useMemo 呢？你怎么用？

**安全回答：**

> useMemo 通常用在计算成本比较高，  
> 并且结果会被频繁复用的场景。  
> 如果计算本身很轻量，我一般不会刻意使用。

（停）

---

## 四、一个“刚刚好”的示例说法

```js
const handleClick = useCallback(() => {
  submit(id)
}, [id])
```

**你只需要说：**

> 这里使用 useCallback 是因为这个函数会传给子组件，  
> 希望在依赖不变的情况下保持引用稳定。

🚫 不解释闭包  
🚫 不讲性能测试  
🚫 不讨论 React 内部实现

---

## 五、明确不要说的话（高风险）

下面这些说法**技术上未必全错，但面试风险极高**：

- ❌ “useCallback 是性能优化手段”
- ❌ “React 每次 render 都会重新创建函数，所以很慢”
- ❌ “我一般都会包一层 useCallback”
- ❌ “不用 memo 会浪费性能”

这些回答很容易引发：
- 深挖性能
- 追问实现细节
- 不必要的对立讨论

---

## 六、高级前端工程师的安全形象

面试官从你的回答中应当感受到：

- ✔️ 你知道 hooks 是工具，不是信仰
- ✔️ 你不会为了“看起来高级”而制造复杂度
- ✔️ 你有克制能力，而不是过度优化倾向

---

## 七、一句话总结（最终收口）

> useCallback / useMemo 是在确实需要稳定引用时才使用的工具，  
> 大多数情况下，保持代码简单比提前优化更重要。

这句话，就是这道题的 **面试终点**。
